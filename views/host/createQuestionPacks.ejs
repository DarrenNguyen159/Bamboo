<!DOCTYPE html>
<html lang="vi">

<head>
    <title>Bamboo - Create Question Packs%></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/style/host/lobby.css">
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <p>Create Question Packs </span></p>
        <ul class="nav justify-content-end">
            <li class="nav-item">
                <p>Host: <span id="hostname"> hostname </span></p>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-outline-dark" onclick="signOut()">Sign out</button>
            </li>
        </ul>
    </nav>
    <div class="container-fluid">
        <div class="row main">
            <div class="col-sm-4">
                <div class="card">

                    <img src="./images/no-image-available.jpg" class="card-img-top" alt="...">
                    <div class="card-body">
                        <!-- <h5 class="card-title">Card title</h5> -->
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" style="width:8rem">Title</span>
                            </div>
                            <input type="text" class="form-control">
                        </div>
                        <div class="input-group desc-edit">
                            <div class="input-group-prepend">
                                <span class="input-group-text" style="width:8rem">Description</span>
                            </div>
                            <textarea class="form-control"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 mt-3">
                        <button type="button" class="btn btn-outline-dark" onclick="back()">Back</button>
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
                <div class="container-fluid">
                    <div class="container-fluid" id="question-list">
                        <div id="q1" class="row">
                            <div class="card col-sm-12">
                                <div class="card-body">
                                    <div class="row d-flex justify-content-between ml-1 mr-1">
                                        <h5 class="card-title">Question</h5>
                                    </div>
                                    <div class="form-group">
                                        <label>Content</label>
                                        <textarea class="form-control question-text-edit"
                                            id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="input-group mb-3">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">A</span>
                                                </div>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="input-group mb-3">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">B</span>
                                                </div>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">C</span>
                                                </div>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">D</span>
                                                </div>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 mt-3">
                            <button type="button" class="btn btn-success" onclick="AddQuestion()">Add</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.4/firebase-database.js"></script>

    <script src="/javascript/config.js"></script>
    <script>
        var $jq = jQuery.noConflict();
        // Check user signed-in
        firebase.auth().onAuthStateChanged(function (user) {
            if (user && !user.isAnonymous) {
                // User is signed in.
                var displayName = user.displayName;
                var email = user.email;
                var emailVerified = user.emailVerified;
                var photoURL = user.photoURL;
                var isAnonymous = user.isAnonymous;
                var uid = user.uid;
                var providerData = user.providerData;

                console.log('[DEBUG] user info:');
                console.log(user);

                // change hostname to displayName
                $jq("#hostname").text(displayName);
                // get new lobby id from Firebase

                // ...
            } else {
                // User is signed out.
                alert("You have not signed-in yet :(");
                // Redirect to authen
                // window.location.href = '/';
                // ...
            }
        });

        function signOut() {
            firebase.auth().signOut().then(function () {
                console.log('Signed Out');
            }, function (error) {
                console.error('Sign Out Error', error);
            });
        }
        var nextQ = 1;

        function AddQuestion() {
            nextQ++;
            let questionList = $jq("#question-list");
            childStr = "<div id=\"q" + nextQ + "\" class=\"row\"> <div class=\"card col-sm-12\"> <div class=\"card-body\"> <div class=\"row d-flex justify-content-between ml-1 mr-1\"> <h5 class=\"card-title\">Question</h5> <button type=\"button\" class=\"btn btn-danger\" onclick=\"Delete(" + nextQ + ")\">Delete</button> </div> <div class=\"form-group\"> <label>Content</label> <textarea class=\"form-control question-text-edit\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <div class=\"input-group mb-3\"> <div class=\"input-group-prepend\"> <span class=\"input-group-text\">A</span> </div> <input type=\"text\" class=\"form-control\"> </div> </div> <div class=\"col-sm-6\"> <div class=\"input-group mb-3\"> <div class=\"input-group-prepend\"> <span class=\"input-group-text\">B</span> </div> <input type=\"text\" class=\"form-control\"> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <div class=\"input-group\"> <div class=\"input-group-prepend\"> <span class=\"input-group-text\">C</span> </div> <input type=\"text\" class=\"form-control\"> </div> </div> <div class=\"col-sm-6\"> <div class=\"input-group\"> <div class=\"input-group-prepend\"> <span class=\"input-group-text\">D</span> </div> <input type=\"text\" class=\"form-control\"> </div> </div> </div> </div> </div> </div>";
            questionList.append(childStr);
        }

        function Delete(id) {
            let questionList = $jq("#q" + id);
            questionList.remove();
        }
    </script>

</body>

</html>